{
  "version": 3,
  "port": 8080,
  "timeout": "3s",
  "extra_config": {
    "github_com/devopsfaith/krakend-gologging": {
      "level": "DEBUG",
      "prefix": "[KRAKEND]",
      "stdout": true
    },
    "github_com/devopsfaith/krakend-cors": {
      "allow_origins": ["*", "http://localhost:8006", "http://localhost:8090", "http://localhost:8003"],
      "allow_methods": ["GET", "POST", "PUT", "DELETE", "OPTIONS"],
      "allow_headers": ["*"],
      "expose_headers": ["*"],
      "allow_credentials": true,
      "max_age": "12h"
    },
    "github.com/devopsfaith/krakend-httpsecure": {
      "allowed_hosts": [],
      "ssl_proxy_headers": {},
      "ssl_redirect": false
    }
  },
  "endpoints": [
    {
      "endpoint": "/graphql",
      "method": "POST",
      "input_headers": ["*"],
      "output_encoding": "no-op",
      "backend": [
        {
          "url_pattern": "/graphql",
          "host": ["http://wallet-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/auth/register",
      "method": "POST",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/register",
          "host": ["http://auth-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/auth/login",
      "method": "POST",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/login",
          "host": ["http://auth-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/auth/verify",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/verify",
          "host": ["http://auth-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/auth/users/me",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/users/me",
          "host": ["http://auth-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/health",
      "method": "GET",
      "backend": [
        {
          "url_pattern": "/health",
          "host": ["http://auth-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/test",
      "method": "GET",
      "backend": [
        {
          "url_pattern": "/health",
          "host": ["http://wallet-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/games/roulette/games",
      "method": "POST",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/roulette/games",
          "host": ["http://game-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/games/roulette/games",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/roulette/games",
          "host": ["http://game-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/games/roulette/games/{game_id}",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/roulette/games/{game_id}",
          "host": ["http://game-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/games/roulette/games/{game_id}/bet",
      "method": "POST",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/roulette/games/{game_id}/bet",
          "host": ["http://game-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/games/roulette/games/{game_id}/spin",
      "method": "POST",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/roulette/games/{game_id}/spin",
          "host": ["http://game-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/games/roulette/test",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/roulette/test",
          "host": ["http://game-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/games/slots/spin",
      "method": "POST",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/slots/spin",
          "host": ["http://game-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/games/slots/history",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/slots/history",
          "host": ["http://game-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/games/slots/test",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/slots/test",
          "host": ["http://game-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/games/blackjack/start",
      "method": "POST",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/blackjack/start",
          "host": ["http://game-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/games/blackjack/{game_id}/action",
      "method": "POST",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/blackjack/{game_id}/action",
          "host": ["http://game-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/games/blackjack/{game_id}",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/blackjack/{game_id}",
          "host": ["http://game-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/games/blackjack/test",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/blackjack/test",
          "host": ["http://game-service:8000"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/analytics/games/stats",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/analytics/games/stats",
          "host": ["http://analytics-service:8004"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/analytics/users/{user_id}/stats",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/analytics/users/{user_id}/stats",
          "host": ["http://analytics-service:8004"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/analytics/events/game",
      "method": "POST",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/analytics/events/game",
          "host": ["http://analytics-service:8004"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/analytics/health",
      "method": "GET",
      "backend": [
        {
          "url_pattern": "/analytics/health",
          "host": ["http://analytics-service:8004"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/notifications/send",
      "method": "POST", 
      "backend": [
        {
          "url_pattern": "/notifications/send",
          "host": ["http://notification-service:8005"]
        }
      ]
    },
    {
      "endpoint": "/notifications/user/{user_id}",
      "method": "GET", 
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/notifications/user/{user_id}",
          "host": ["http://notification-service:8005"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/notifications/trigger/win",
      "method": "POST",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/notifications/trigger/win", 
          "host": ["http://notification-service:8005"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/notifications/health",
      "method": "GET",
      "backend": [
        {
          "url_pattern": "/notifications/health",
          "host": ["http://notification-service:8005"],
          "disable_host_sanitize": false
        }
      ]
    },{
      "endpoint": "/admin/login",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/admin/login",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    },{
      "endpoint": "/admin/logout",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/admin/logout",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    },{
      "endpoint": "/admin/verify",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/admin/verify",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    },

    
    {
      "endpoint": "/admin/dashboard",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/admin/dashboard",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    },

    
    {
      "endpoint": "/admin/users",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/admin/users",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/admin/users/{user_id}/block",
      "method": "POST",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/admin/users/{user_id}/block",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/admin/users/{user_id}/unblock",
      "method": "POST",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/admin/users/{user_id}/unblock",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    },

    
    {
      "endpoint": "/admin/games/stats",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/admin/games/stats",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/admin/games",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/admin/games",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    },

    
    {
      "endpoint": "/admin/financial/stats",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/admin/financial/stats",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/admin/transactions",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/admin/transactions",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    },

    
    {
      "endpoint": "/admin/analytics/revenue",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/admin/analytics/revenue",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/admin/analytics/active-users",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/admin/analytics/active-users",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    },

    
    {
      "endpoint": "/admin/system/health",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/admin/system/health",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    },
    {
      "endpoint": "/admin/system/services",
      "method": "GET",
      "input_headers": ["*"],
      "output_headers": ["*"],
      "backend": [
        {
          "url_pattern": "/admin/system/services",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    },

    
    {
      "endpoint": "/admin/health",
      "method": "GET",
      "backend": [
        {
          "url_pattern": "/health",
          "host": ["http://admin-service:8006"],
          "disable_host_sanitize": false
        }
      ]
    }
  ]
}